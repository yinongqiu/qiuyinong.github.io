<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yinong&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://imqyn.com/"/>
  <updated>2020-02-14T12:11:37.015Z</updated>
  <id>http://imqyn.com/</id>
  
  <author>
    <name>Yinong QIU</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo博客加入百度和谷歌站点收录</title>
    <link href="http://imqyn.com/2020/02/14/sitemap/"/>
    <id>http://imqyn.com/2020/02/14/sitemap/</id>
    <published>2020-02-14T11:05:29.127Z</published>
    <updated>2020-02-14T12:11:37.015Z</updated>
    
    <content type="html"><![CDATA[<p>本文记录了一下Hexo博客加入百度和谷歌站点收录的过程，对于百度和谷歌，都可以生成站点地图，因此首先记录站点地图的生成。<br>百度主要有三种收录方式：</p><a id="more"></a><h1 id="1-检查博客是否被收录"><a href="#1-检查博客是否被收录" class="headerlink" title="1. 检查博客是否被收录"></a>1. 检查博客是否被收录</h1><p>在百度或谷歌下面搜索：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site:imqyn.com #用你的域名代替site:后面的网址</span><br></pre></td></tr></table></figure><h1 id="2-站点地图生成"><a href="#2-站点地图生成" class="headerlink" title="2. 站点地图生成"></a>2. 站点地图生成</h1><h2 id="2-1-安装插件"><a href="#2-1-安装插件" class="headerlink" title="2.1 安装插件"></a>2.1 安装插件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><h2 id="2-2-修改配置文件-config-yml"><a href="#2-2-修改配置文件-config-yml" class="headerlink" title="2.2 修改配置文件_config.yml"></a>2.2 修改配置文件_config.yml</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 自动生成sitemap</span><br><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">baidusitemap:</span><br><span class="line">  path: baidusitemap.xml</span><br></pre></td></tr></table></figure><h2 id="2-3-生成和部署"><a href="#2-3-生成和部署" class="headerlink" title="2.3 生成和部署"></a>2.3 生成和部署</h2><p>同样hexo g和hexo d</p><p>public目录里将会有生成的两个sitemap.xml和baidusitemap.xml两个文件</p><h1 id="3-百度站长平台收录"><a href="#3-百度站长平台收录" class="headerlink" title="3. 百度站长平台收录"></a>3. 百度站长平台收录</h1><p>注册并登录百度站长平台：<a href="https://ziyuan.baidu.com/property/index">百度站长平台</a></p><p>其中在验证站点这一步中，选择文件验证。下载下来的文件放到根目录下的source文件中，并且打开验证文件，在头部加入以下两行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">layout: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>否则会验证失败。原因是hexo发布网站的时候渲染了百度验证文件，导致百度无法辨认自己的验证文件。加入这两行之后hexo发布时就不会渲染该文件。<br>详情可以看这篇博客：<a href="https://craftboss.net/2019/10/23/hexo%E5%8D%9A%E5%AE%A2%E9%AA%8C%E8%AF%81%E7%99%BE%E5%BA%A6%E7%AB%99%E9%95%BF/">hexo博客验证百度站长</a></p><h2 id="3-1-主动推送"><a href="#3-1-主动推送" class="headerlink" title="3.1 主动推送"></a>3.1 主动推送</h2><p>这个方式我只是粗略的试了一下还没看到什么效果</p><h3 id="3-3-1-安装插件"><a href="#3-3-1-安装插件" class="headerlink" title="3.3.1 安装插件"></a>3.3.1 安装插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure><h3 id="3-3-2-修改站点配置文件-config-yml"><a href="#3-3-2-修改站点配置文件-config-yml" class="headerlink" title="3.3.2 修改站点配置文件_config.yml"></a>3.3.2 修改站点配置文件_config.yml</h3><p>插入以下代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">baidu_url_submit:</span><br><span class="line">  count: 5 ## 提交最新的五个链接</span><br><span class="line">  host: imqyn.com ## 百度站长平台中注册的域名</span><br><span class="line">  token: your_token ## 准入秘钥</span><br><span class="line">  path: baidu_urls.txt ## 文本文档的地址， 新链接会保存在此文本文档里</span><br></pre></td></tr></table></figure><p>这一步中的token可以在百度站长平台，自动提交，主动推送的推送接口栏里，接口调用地址找到。即我打马赛克的部分<br><img src="http://ww1.sinaimg.cn/large/6ab81c19gy1gbw60ki6c5j210k0detai.jpg" alt="token.png"></p><p>检查url值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">url: imqyn.com # 该值必须为注册域名</span><br><span class="line">root: &#x2F;</span><br><span class="line">permalink: :year&#x2F;:month&#x2F;:day&#x2F;:title.xml</span><br></pre></td></tr></table></figure><p>加入新的deployer</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">- type: git ## 这是我原来的deployer</span><br><span class="line">  repo:</span><br><span class="line">  branch:</span><br><span class="line">- type: baidu_url_submitter ## 新加内容，注意url不加s！！</span><br></pre></td></tr></table></figure><h3 id="3-3-3-生成并提交新链接"><a href="#3-3-3-生成并提交新链接" class="headerlink" title="3.3.3 生成并提交新链接"></a>3.3.3 生成并提交新链接</h3><ul><li><font color="olive">hexo g</font>  产生一个文本文件，里面包含最新的链接</li><li><font color="olive">hexo d</font>  从上述文件中读取链接，提交至百度搜索引擎</li></ul><h3 id="3-3-4-提交状态"><a href="#3-3-4-提交状态" class="headerlink" title="3.3.4 提交状态"></a>3.3.4 提交状态</h3><p>在console控制中，成功状态如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;remain&quot;:4999998,</span><br><span class="line">    &quot;success&quot;:2,</span><br><span class="line">    &quot;not_same_site&quot;:[],</span><br><span class="line">    &quot;not_valid&quot;:[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>success表示当天成功推送的url条数，remain表示当天剩余的可推送url条数，这两个域是必返回<br>而not_same_site表示由于不是本站url而未处理的url列表，not_valid表示不合法的url列表，这两个是非必选</p><p>以上内容均可在百度站长平台里看到</p><h2 id="3-2-自动推送"><a href="#3-2-自动推送" class="headerlink" title="3.2 自动推送"></a>3.2 自动推送</h2><p>看说明说是要在每个页面都加上这段代码，但是我不知道具体加在哪里，于是找到了一个scripts.ejs文件和footer.ejs文件。这两个文件在每个页面里应该都会加载的。<br>我先在一下两个文件中加入了百度自动提供的自动推送的代码：</p><ul><li><font color="olive">themes/icarus/layout/common/scripts.ejs</font></li><li><font color="olive">themes/icarus/layout/common/footer.ejs</font></li></ul><p>代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">(function()&#123;</span><br><span class="line">    var bp &#x3D; document.createElement(&#39;script&#39;);</span><br><span class="line">    var curProtocol &#x3D; window.location.protocol.split(&#39;:&#39;)[0];</span><br><span class="line">    if (curProtocol &#x3D;&#x3D;&#x3D; &#39;https&#39;) &#123;</span><br><span class="line">        bp.src &#x3D; &#39;https:&#x2F;&#x2F;zz.bdstatic.com&#x2F;linksubmit&#x2F;push.js&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        bp.src &#x3D; &#39;http:&#x2F;&#x2F;push.zhanzhang.baidu.com&#x2F;push.js&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    var s &#x3D; document.getElementsByTagName(&quot;script&quot;)[0];</span><br><span class="line">    s.parentNode.insertBefore(bp, s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-3-sitemap推送"><a href="#3-3-sitemap推送" class="headerlink" title="3.3 sitemap推送"></a>3.3 sitemap推送</h2><p>最后在sitemap里加入yourdomain/baidusitemap.xml即可</p><h1 id="4-Google谷歌网站站长"><a href="#4-Google谷歌网站站长" class="headerlink" title="4. Google谷歌网站站长"></a>4. Google谷歌网站站长</h1><p>登陆<a href="https://search.google.com/search-console?resource_id=http%3A%2F%2Fimqyn.com%2F">谷歌站长平台</a></p><p>有引导，操作同上。注意search console里选右边的。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文记录了一下Hexo博客加入百度和谷歌站点收录的过程，对于百度和谷歌，都可以生成站点地图，因此首先记录站点地图的生成。&lt;br&gt;百度主要有三种收录方式：&lt;/p&gt;
    
    </summary>
    
    
      <category term="Code Blocks" scheme="http://imqyn.com/categories/Code-Blocks/"/>
    
      <category term="Blog" scheme="http://imqyn.com/categories/Code-Blocks/Blog/"/>
    
    
      <category term="Blog" scheme="http://imqyn.com/tags/Blog/"/>
    
      <category term="sitemap" scheme="http://imqyn.com/tags/sitemap/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客建站过程使用网站</title>
    <link href="http://imqyn.com/2020/02/13/site_used/"/>
    <id>http://imqyn.com/2020/02/13/site_used/</id>
    <published>2020-02-13T12:24:22.000Z</published>
    <updated>2020-02-14T12:20:43.480Z</updated>
    
    <content type="html"><![CDATA[<p>本文记录了建站过程中所用到的网站</p><a id="more"></a><h1 id="1-Logo生成"><a href="#1-Logo生成" class="headerlink" title="1. Logo生成"></a>1. Logo生成</h1><ul><li><a href="https://logohub.io/">logohub</a></li></ul><p>字体偏好使用的为：<br>Redressed<br>Ribeye/ marrow<br>medievalsharps</p><h1 id="2-插入图片"><a href="#2-插入图片" class="headerlink" title="2. 插入图片"></a>2. 插入图片</h1><p>图床：微博图床（chrome）插件<br>简单方便，不需要注册七七八八的东西，只需要和微博绑定</p><h1 id="3-评论系统"><a href="#3-评论系统" class="headerlink" title="3. 评论系统"></a>3. 评论系统</h1><p>目前使用的为valine评论系统，因此链接到的为LeanCloud国际版后台</p><ul><li><a href="https://console.leancloud.app/applist.html#/apps">LeanCloud</a></li></ul><h1 id="4-提交百度谷歌收录"><a href="#4-提交百度谷歌收录" class="headerlink" title="4. 提交百度谷歌收录"></a>4. 提交百度谷歌收录</h1><ul><li><p><a href="https://ziyuan.baidu.com/property/index">百度站长平台</a><br>记得要在里面完善信息，备案号</p></li><li><p><a href="https://search.google.com/search-console?resource_id=http%3A%2F%2Fimqyn.com%2F">谷歌站长平台</a></p></li></ul><h1 id="5-百度谷歌统计"><a href="#5-百度谷歌统计" class="headerlink" title="5. 百度谷歌统计"></a>5. 百度谷歌统计</h1><ul><li><p><a href="https://tongji.baidu.com/web/10000145090/homepage/index">百度统计</a></p></li><li><p><a href="https://analytics.google.com/analytics/web/provision/#/provision">谷歌统计</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文记录了建站过程中所用到的网站&lt;/p&gt;
    
    </summary>
    
    
      <category term="Code Blocks" scheme="http://imqyn.com/categories/Code-Blocks/"/>
    
      <category term="Blog" scheme="http://imqyn.com/categories/Code-Blocks/Blog/"/>
    
    
      <category term="Blog" scheme="http://imqyn.com/tags/Blog/"/>
    
      <category term="site" scheme="http://imqyn.com/tags/site/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+Github Page+Godday+DNSpod(腾讯云)绑定域名</title>
    <link href="http://imqyn.com/2020/02/13/create_domain/"/>
    <id>http://imqyn.com/2020/02/13/create_domain/</id>
    <published>2020-02-13T10:24:50.000Z</published>
    <updated>2020-02-13T11:44:49.012Z</updated>
    
    <content type="html"><![CDATA[<p>记录一下该博客在申请新域名的一些过程～</p><a id="more"></a><h1 id="1-上Godaddy购买域名"><a href="#1-上Godaddy购买域名" class="headerlink" title="1. 上Godaddy购买域名"></a>1. 上Godaddy购买域名</h1><p>一开始想说在腾讯云和阿里云上购买域名，后面发现好像因为这是在国内的厂商所以容易不稳定？总之后来选择来在Godaddy上购买域名。<br>挑来挑去最后还是选择了.com结尾的，我自己名字全称的已经被注册为某男装品牌？于是就换成了<a href="imqyn.com">imqyn.com</a>哈哈哈。</p><h1 id="2-Github加文件"><a href="#2-Github加文件" class="headerlink" title="2. Github加文件"></a>2. Github加文件</h1><p>之后可以手动在github仓库里的github page里更换custom domain，但是这样每次在用hexo g，和hexo d更新的时候就会覆盖掉这个设置，所以还是直接在博客目录里的source文件夹里添加CNAME文件，在里面输入自己买的域名就好啦！之后在通过hexo g，hexo d就能够在github里看到主目录底下的CNAME文件。</p><h1 id="3-DNSpod解析域名"><a href="#3-DNSpod解析域名" class="headerlink" title="3. DNSpod解析域名"></a>3. DNSpod解析域名</h1><p>这一步是解析域名，可以在DNSpod里解析也可以在腾讯云解析里解析。看大家都推荐在DNSpod里解析，但是我第一次在里面解析的时候发现总是没办法选中CNAME记录类型于是后来就到了腾讯云解析里解析了。我们主要要添加两个解析：<br><img src="http://ww1.sinaimg.cn/large/6ab81c19gy1gbv0ftk0wdj223u0auaci.jpg" alt="domain_analysis.png"></p><p>其中ip地址通过ping yourgihtubname.github.io 获得</p><h1 id="4-修改域名购买商Godaddy-DNS设置"><a href="#4-修改域名购买商Godaddy-DNS设置" class="headerlink" title="4. 修改域名购买商Godaddy DNS设置"></a>4. 修改域名购买商Godaddy DNS设置</h1><p><img src="http://ww1.sinaimg.cn/large/6ab81c19gy1gbv0f93pktj20vk05idhe.jpg" alt="DNS.png"><br>可以看到顶部有提示说让去域名购买商Godaddy处修改Nameservers<br>在还没DNSpod域名解析之前，Godaddy里有自己默认的Record和Nameservers，但是我们现在要将其替换为解析后的：<br><img src="http://ww1.sinaimg.cn/large/6ab81c19gy1gbv0g5wma3j219y174adu.jpg" alt="Godaddy.png"><br>这样就可以可以看到原来的Record将取消。</p><h1 id="5-备案"><a href="#5-备案" class="headerlink" title="5. 备案"></a>5. 备案</h1><p>在申请域名后要及时备案，否则有被封的危险哦！但是备案要在实名认证48小时之后才能开始。</p><h1 id="6-成功啦"><a href="#6-成功啦" class="headerlink" title="6. 成功啦"></a>6. 成功啦</h1><p>一般等待一会儿就成功啦！可以上你自己的域名看看，也可以试试原来的地址，会发现原来的地址自动跳转到新的域名上了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;记录一下该博客在申请新域名的一些过程～&lt;/p&gt;
    
    </summary>
    
    
      <category term="Code Blocks" scheme="http://imqyn.com/categories/Code-Blocks/"/>
    
      <category term="Blog" scheme="http://imqyn.com/categories/Code-Blocks/Blog/"/>
    
    
      <category term="Blog" scheme="http://imqyn.com/tags/Blog/"/>
    
      <category term="Godaddy" scheme="http://imqyn.com/tags/Godaddy/"/>
    
      <category term="domain" scheme="http://imqyn.com/tags/domain/"/>
    
      <category term="DNSpod" scheme="http://imqyn.com/tags/DNSpod/"/>
    
  </entry>
  
  <entry>
    <title>Hexo主题icarus配置和常见问题</title>
    <link href="http://imqyn.com/2020/02/12/configuration_icarus/"/>
    <id>http://imqyn.com/2020/02/12/configuration_icarus/</id>
    <published>2020-02-12T16:41:52.000Z</published>
    <updated>2020-02-14T11:58:12.893Z</updated>
    
    <content type="html"><![CDATA[<p>在搭建我的个人小站的过程中，遇到了许多问题哈。现在就对其进行一个梳理和记录：</p><a id="more"></a><h1 id="1-Installation"><a href="#1-Installation" class="headerlink" title="1. Installation"></a>1. Installation</h1><h1 id="2-Configuration"><a href="#2-Configuration" class="headerlink" title="2. Configuration"></a>2. Configuration</h1><h2 id="2-1-更改文章页栏数"><a href="#2-1-更改文章页栏数" class="headerlink" title="2.1 更改文章页栏数"></a>2.1 更改文章页栏数</h2><p>主界面为三栏我很喜欢，但是文章页我还是喜欢双栏，也就是只保留左侧边栏</p><ul><li><p><font color="olive">themes/icarus/includes/helpers/layout.js</font></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">hexo.extend.helper.register(&#39;get_widgets&#39;, function (position) &#123;</span><br><span class="line">const hasWidgets &#x3D; hexo.extend.helper.get(&#39;has_config&#39;).bind(this)(&#39;widgets&#39;);</span><br><span class="line">if (!hasWidgets) &#123;</span><br><span class="line">return [];</span><br><span class="line">&#125;</span><br><span class="line">const widgets &#x3D; hexo.extend.helper.get(&#39;get_config&#39;).bind(this)(&#39;widgets&#39;);</span><br><span class="line">if (this.page.layout !&#x3D;&#x3D; &#39;post&#39;) &#123;</span><br><span class="line">return widgets.filter(widget &#x3D;&gt; widget.hasOwnProperty(&#39;position&#39;) &amp;&amp; widget.position &#x3D;&#x3D;&#x3D; position);</span><br><span class="line">&#125;</span><br><span class="line">if (position &#x3D;&#x3D;&#x3D; &#39;left&#39;) &#123;</span><br><span class="line">return widgets.filter(widget &#x3D;&gt; widget.hasOwnProperty(&#39;position&#39;) &amp;&amp; (widget.type &#x3D;&#x3D;&#x3D; &#39;toc&#39; || widget.type &#x3D;&#x3D;&#x3D; &#39;profile&#39;));</span><br><span class="line">&#125; else &#123;</span><br><span class="line">return []</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p><font color="olive">themes/icarus/layout/common/widget.ejs</font></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;% function side_column_class() &#123;</span><br><span class="line">switch (column_count()) &#123;</span><br><span class="line">case 2:</span><br><span class="line">-            return &#39;is-4-tablet is-4-desktop is-4-widescreen&#39;;</span><br><span class="line">+            return &#39;is-4-tablet is-4-desktop is-3-widescreen&#39;;</span><br><span class="line">case 3:</span><br></pre></td></tr></table></figure></li><li><p><font color="olive">themes/icarus/layout/layout.ejs</font></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-&lt;body class&#x3D;&quot;is-&lt;%&#x3D; column_count() %&gt;-column&quot;&gt;</span><br><span class="line">+&lt;body class&#x3D;&quot;is-3-column&quot;&gt;</span><br><span class="line">     &lt;%- partial(&#39;common&#x2F;navbar&#39;, &#123; page &#125;) %&gt;</span><br><span class="line">     &lt;% function main_column_class() &#123;</span><br><span class="line">         switch (column_count()) &#123;</span><br><span class="line">             case 1:</span><br><span class="line">                 return &#39;is-12&#39;;</span><br><span class="line">             case 2:</span><br><span class="line">-                return &#39;is-8-tablet is-8-desktop is-8-widescreen&#39;;</span><br><span class="line">+                return &#39;is-8-tablet is-8-desktop is-9-widescreen&#39;;</span><br></pre></td></tr></table></figure></li><li><p><font color="olive">themes/icarus/source/css/style.styl</font></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.is-2-column .container</span><br><span class="line">max-width: screen-desktop - 2 * gap</span><br><span class="line">width: screen-desktop - 2 * gap</span><br><span class="line">+    .is-3-column .container</span><br><span class="line">+        max-width: screen-widescreen - gap</span><br><span class="line">+        width: screen-widescreen - gap</span><br><span class="line">@media screen and (min-width: screen-fullhd)</span><br><span class="line">+    .is-3-column .container</span><br><span class="line">+        max-width: screen-fullhd - 2 * gap</span><br><span class="line">+        width: screen-fullhd - 2 * gap</span><br><span class="line">.is-2-column .container</span><br><span class="line">max-width: screen-widescreen - 2 * gap</span><br><span class="line">width: screen-widescreen - 2 * gap</span><br></pre></td></tr></table></figure></li></ul><h2 id="2-2-更改文章标题布局"><a href="#2-2-更改文章标题布局" class="headerlink" title="2.2 更改文章标题布局"></a>2.2 更改文章标题布局</h2><ul><li><p><font color="olive">themes/icarus/layout/common/article.ejs</font></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;card-content article &lt;%&#x3D; post.hasOwnProperty(&#39;direction&#39;) ? post.direction : &#39;&#39; %&gt;&quot;&gt;</span><br><span class="line">+        &lt;h1 class&#x3D;&quot;title is-size-3 is-size-4-mobile has-text-weight-normal&quot;&gt;</span><br><span class="line">+            &lt;% if (index) &#123; %&gt;</span><br><span class="line">+                &lt;a class&#x3D;&quot;has-link-black-ter&quot; href&#x3D;&quot;&lt;%- url_for(post.link ? post.link : post.path) %&gt;&quot;&gt;&lt;i class&#x3D;&quot;fas fa-angle-double-right&quot;&gt;&lt;&#x2F;i&gt;&lt;%&#x3D; post.title %&gt;&lt;&#x2F;a&gt;</span><br><span class="line">+            &lt;% &#125; else &#123; %&gt;</span><br><span class="line">+                &lt;i class&#x3D;&quot;fas fa-angle-double-right&quot;&gt;&lt;&#x2F;i&gt;&lt;%&#x3D; post.title %&gt;</span><br><span class="line">+            &lt;% &#125; %&gt;</span><br><span class="line">+        &lt;&#x2F;h1&gt;</span><br><span class="line">&lt;% if (post.layout !&#x3D; &#39;page&#39;) &#123; %&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto&quot;&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;level-left&quot;&gt;</span><br><span class="line">-                &lt;time class&#x3D;&quot;level-item has-text-grey&quot; datetime&#x3D;&quot;&lt;%&#x3D; date_xml(post.date) %&gt;&quot;&gt;&lt;%&#x3D; date(post.date) %&gt;&lt;&#x2F;time&gt;</span><br><span class="line">+                &lt;time class&#x3D;&quot;level-item has-text-grey&quot; datetime&#x3D;&quot;&lt;%&#x3D; date_xml(post.date) %&gt;&quot;&gt;&lt;i class&#x3D;&quot;far fa-calendar-alt&quot;&gt;&amp;nbsp;&lt;&#x2F;i&gt;&lt;%&#x3D; date(post.date) %&gt;&lt;&#x2F;time&gt;</span><br><span class="line">+                &lt;% if (post.updated &amp;&amp; post.updated &gt; post.date) &#123; %&gt;</span><br><span class="line">+                &lt;time class&#x3D;&quot;level-item has-text-grey is-hidden-mobile&quot; datetime&#x3D;&quot;&lt;%&#x3D; date_xml(post.updated) %&gt;&quot;&gt;&lt;i class&#x3D;&quot;far fa-calendar-check&quot;&gt;&amp;nbsp;&lt;&#x2F;i&gt;&lt;%&#x3D; date(post.updated) %&gt;&lt;&#x2F;time&gt;</span><br><span class="line">+                &lt;% &#125; %&gt;</span><br><span class="line">&lt;% if (post.categories &amp;&amp; post.categories.length) &#123; %&gt;</span><br></pre></td></tr></table></figure></li><li><p>并且删除改页中原来的标题</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 class&#x3D;&quot;title is-size-3 is-size-4-mobile has-text-weight-normal&quot;&gt;</span><br><span class="line">            &lt;% if (index) &#123; %&gt;</span><br><span class="line">                &lt;a class&#x3D;&quot;has-link-black-ter&quot; href&#x3D;&quot;&lt;%- url_for(post.link ? post.link : post.path) %&gt;&quot;&gt;&lt;%&#x3D; post.title %&gt;&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;% &#125; else &#123; %&gt;</span><br><span class="line">                &lt;%&#x3D; post.title %&gt;</span><br><span class="line">            &lt;% &#125; %&gt;</span><br><span class="line">&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure></li><li><p>若不需标题前的小图标或者想更改小图标，只需要删除或修改以下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i class&#x3D;&quot;fas fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure></li></ul><ul><li>删除以下内容以便页面显示日期而非发布多久</li><li><font color="olive">themes/icarus/source/js/main.js</font><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-    if (typeof(moment) &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;</span><br><span class="line">-        $(&#39;.article-meta time&#39;).each(function () &#123;</span><br><span class="line">-            $(this).text(moment($(this).attr(&#39;datetime&#39;)).fromNow());</span><br><span class="line">-        &#125;);</span><br><span class="line">-    &#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="2-3-文章结尾优化"><a href="#2-3-文章结尾优化" class="headerlink" title="2.3 文章结尾优化"></a>2.3 文章结尾优化</h2><p>还是在一样的artile.ejs文件中</p><ul><li><font color="olive">themes/icarus/layout/common/article.ejs</font><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; post.tags &amp;&amp; post.tags.length) &#123; %&gt;</span><br><span class="line">+    &lt;hr style&#x3D;&quot;height:1px;margin:1rem 0&quot;&#x2F;&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;level is-size-7 is-uppercase&quot;&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;level-start&quot;&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;level-item&quot;&gt;</span><br><span class="line">-                &lt;span class&#x3D;&quot;is-size-6 has-text-grey has-mr-7&quot;&gt;#&lt;&#x2F;span&gt;</span><br><span class="line">+                &lt;i class&#x3D;&quot;fas fa-tags has-text-grey&quot;&gt;&lt;&#x2F;i&gt;&amp;nbsp;</span><br><span class="line">&lt;%- list_tags(post.tags, &#123;</span><br><span class="line">class: &#39;has-link-grey &#39;,</span><br><span class="line">show_count: false,</span><br><span class="line">-                    style: &#39;link&#39;</span><br><span class="line">+                    style: &#39;link&#39;,</span><br><span class="line">+                    separator: &#39;,&amp;nbsp;&#39;</span><br><span class="line">&#125;) %&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;% if (index &amp;&amp; post.excerpt) &#123; %&gt;</span><br><span class="line">-    &lt;div class&#x3D;&quot;level is-mobile&quot;&gt;</span><br><span class="line">+    &lt;hr style&#x3D;&quot;height:1px;margin:1rem 0&quot;&#x2F;&gt;</span><br><span class="line">+    &lt;div class&#x3D;&quot;level is-mobile is-flex&quot;&gt;</span><br><span class="line">+        &lt;div class&#x3D;&quot;level-start&quot;&gt;</span><br><span class="line">+            &lt;% if (post.tags &amp;&amp; post.tags.length) &#123; %&gt;</span><br><span class="line">+            &lt;div class&#x3D;&quot;level-item is-size-7 is-uppercase&quot;&gt;</span><br><span class="line">+                &lt;i class&#x3D;&quot;fas fa-tags has-text-grey&quot;&gt;&lt;&#x2F;i&gt;&amp;nbsp;</span><br><span class="line">+                &lt;%- list_tags(post.tags, &#123;</span><br><span class="line">+                    class: &#39;has-link-grey &#39;,</span><br><span class="line">+                    show_count: false,</span><br><span class="line">+                    style: &#39;link&#39;,</span><br><span class="line">+                    separator: &#39;,&amp;nbsp;&#39;</span><br><span class="line">+                &#125;) %&gt;</span><br><span class="line">+            &lt;&#x2F;div&gt;</span><br><span class="line">+            &lt;% &#125; %&gt;</span><br><span class="line">+        &lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;level-start&quot;&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="2-4-给文章增加版权"><a href="#2-4-给文章增加版权" class="headerlink" title="2.4 给文章增加版权"></a>2.4 给文章增加版权</h2><ul><li><font color="olive">themes/icarus/layout/common/article.ejs</font><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;content&quot;&gt;</span><br><span class="line">            &lt;%- index &amp;&amp; post.excerpt ? post.excerpt : post.content %&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">&lt;% if (!index &amp;&amp; post.layout &#x3D;&#x3D;&#x3D; &#39;post&#39; &amp;&amp; post.copyright !&#x3D;&#x3D; false) &#123; %&gt;</span><br><span class="line">        &lt;ul class&#x3D;&quot;post-copyright&quot;&gt;</span><br><span class="line">        &lt;li&gt;&lt;strong&gt;本文标题：&lt;&#x2F;strong&gt;&lt;a href&#x3D;&quot;&lt;%&#x3D; post.permalink %&gt;&quot;&gt;&lt;%&#x3D; page.title %&gt;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;strong&gt;本文作者：&lt;&#x2F;strong&gt;&lt;a href&#x3D;&quot;&lt;%&#x3D; theme.url %&gt;&quot;&gt;&lt;%&#x3D; theme.author %&gt;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;strong&gt;本文链接：&lt;&#x2F;strong&gt;&lt;a href&#x3D;&quot;&lt;%&#x3D; post.permalink %&gt;&quot;&gt;&lt;%&#x3D; post.permalink %&gt;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;strong&gt;发布时间：&lt;&#x2F;strong&gt;&lt;%&#x3D; post.date.format(&quot;YYYY-MM-DD&quot;) %&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;strong&gt;版权声明：&lt;&#x2F;strong&gt;本博客所有文章除特别声明外，均采用 &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;deed.zh&quot; rel&#x3D;&quot;external nofollow&quot; target&#x3D;&quot;_blank&quot;&gt;CC BY-NC-SA 4.0&lt;&#x2F;a&gt; 许可协议。转载请注明出处！</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="2-5-给文章增加版权"><a href="#2-5-给文章增加版权" class="headerlink" title="2.5 给文章增加版权"></a>2.5 给文章增加版权</h2><h1 id="3-Problems"><a href="#3-Problems" class="headerlink" title="3. Problems"></a>3. Problems</h1><h2 id="3-1-添加valine评论系统后不成功"><a href="#3-1-添加valine评论系统后不成功" class="headerlink" title="3.1 添加valine评论系统后不成功"></a>3.1 添加valine评论系统后不成功</h2><p>在添加评论系统的过程中，除了在主题目录icarus下的文件_config.yml中修改comment的选项，还要注意在文章界面里的抬头不要加上 comment: true</p><h2 id="3-2-删除目录栏toc中的自动编号"><a href="#3-2-删除目录栏toc中的自动编号" class="headerlink" title="3.2 删除目录栏toc中的自动编号"></a>3.2 删除目录栏toc中的自动编号</h2><p>删除第6行代码</p><ul><li><font color="olive">themes/icarus/layout/widget/toc.ejs</font><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &lt;span class&#x3D;&quot;has-mr-6&quot;&gt;$&#123;toc.index&#125;&lt;&#x2F;span&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-3-移动端不适配可能原因"><a href="#3-3-移动端不适配可能原因" class="headerlink" title="3.3 移动端不适配可能原因"></a>3.3 移动端不适配可能原因</h2><p>以下加入的新的代码一定不能有tab！！！用tab代码将无效，必须全部用空格代替！！这个bug折腾了太久脖子都算了！</p><ul><li><font color="olive">themes/icarus/source/css/style.styl</font><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.is-2-column .container</span><br><span class="line">max-width: screen-desktop - 2 * gap</span><br><span class="line">width: screen-desktop - 2 * gap</span><br><span class="line">+    .is-3-column .container</span><br><span class="line">+        max-width: screen-widescreen - gap</span><br><span class="line">+        width: screen-widescreen - gap</span><br><span class="line">@media screen and (min-width: screen-fullhd)</span><br><span class="line">+    .is-3-column .container</span><br><span class="line">+        max-width: screen-fullhd - 2 * gap</span><br><span class="line">+        width: screen-fullhd - 2 * gap</span><br><span class="line">.is-2-column .container</span><br><span class="line">max-width: screen-widescreen - 2 * gap</span><br><span class="line">width: screen-widescreen - 2 * gap</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-4-界面排版格式莫名错乱"><a href="#3-4-界面排版格式莫名错乱" class="headerlink" title="3.4 界面排版格式莫名错乱"></a>3.4 界面排版格式莫名错乱</h2><p>不要什么都直接去格式里调！格式调好了有可能是文章出了问题！比如在文章里插入了代码或者是文字颜色，注意是否有漏书名号，或者是有balise没有关起来。这些都有可能造成排版布局错乱。</p><h2 id="3-5-本地服务器和上传后显示不同步"><a href="#3-5-本地服务器和上传后显示不同步" class="headerlink" title="3.5 本地服务器和上传后显示不同步"></a>3.5 本地服务器和上传后显示不同步</h2><p>这个问题太常见了，首先是每次上传前最后按照以下步骤：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo d -g</span><br></pre></td></tr></table></figure><p>如果是按照：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>则有可能出现上传不成功的情况。<br>如果你按照第一种方式上传了，那就耐心等待多刷新几次。说不定下一次刷新就上传好了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在搭建我的个人小站的过程中，遇到了许多问题哈。现在就对其进行一个梳理和记录：&lt;/p&gt;
    
    </summary>
    
    
      <category term="Code Blocks" scheme="http://imqyn.com/categories/Code-Blocks/"/>
    
      <category term="Blog" scheme="http://imqyn.com/categories/Code-Blocks/Blog/"/>
    
    
      <category term="Blog" scheme="http://imqyn.com/tags/Blog/"/>
    
      <category term="Code" scheme="http://imqyn.com/tags/Code/"/>
    
      <category term="Hexo" scheme="http://imqyn.com/tags/Hexo/"/>
    
      <category term="icarus" scheme="http://imqyn.com/tags/icarus/"/>
    
  </entry>
  
</feed>
