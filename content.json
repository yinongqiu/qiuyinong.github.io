{"pages":[],"posts":[{"title":"Hexo主题icarus配置和常见问题","text":"在搭建我的个人小站的过程中，遇到了许多问题哈。现在就对其进行一个梳理和记录： 1. Installation2. Configuration2.1 更改文章页栏数主界面为三栏我很喜欢，但是文章页我还是喜欢双栏，也就是只保留左侧边栏 themes/icarus/includes/helpers/layout.js 123456789101112131415hexo.extend.helper.register('get_widgets', function (position) { const hasWidgets = hexo.extend.helper.get('has_config').bind(this)('widgets'); if (!hasWidgets) { return []; } const widgets = hexo.extend.helper.get('get_config').bind(this)('widgets'); if (this.page.layout !== 'post') { return widgets.filter(widget =&gt; widget.hasOwnProperty('position') &amp;&amp; widget.position === position); } if (position === 'left') { return widgets.filter(widget =&gt; widget.hasOwnProperty('position') &amp;&amp; (widget.type === 'toc' || widget.type === 'profile')); } else { return [] }}); themes/icarus/layout/common/widget.ejs 123456&lt;% function side_column_class() { switch (column_count()) { case 2:- return 'is-4-tablet is-4-desktop is-4-widescreen';+ return 'is-4-tablet is-4-desktop is-3-widescreen'; case 3: themes/icarus/layout/layout.ejs 12345678910-&lt;body class=&quot;is-&lt;%= column_count() %&gt;-column&quot;&gt;+&lt;body class=&quot;is-3-column&quot;&gt; &lt;%- partial('common/navbar', { page }) %&gt; &lt;% function main_column_class() { switch (column_count()) { case 1: return 'is-12'; case 2:- return 'is-8-tablet is-8-desktop is-8-widescreen';+ return 'is-8-tablet is-8-desktop is-9-widescreen'; themes/icarus/source/css/style.styl 12345678910111213.is-2-column .container max-width: screen-desktop - 2 * gap width: screen-desktop - 2 * gap+ .is-3-column .container+ max-width: screen-widescreen - gap+ width: screen-widescreen - gap@media screen and (min-width: screen-fullhd)+ .is-3-column .container+ max-width: screen-fullhd - 2 * gap+ width: screen-fullhd - 2 * gap .is-2-column .container max-width: screen-widescreen - 2 * gap width: screen-widescreen - 2 * gap 2.2 更改文章标题布局 themes/icarus/layout/common/article.ejs 1234567891011121314151617&lt;div class=&quot;card-content article &lt;%= post.hasOwnProperty('direction') ? post.direction : '' %&gt;&quot;&gt;+ &lt;h1 class=&quot;title is-size-3 is-size-4-mobile has-text-weight-normal&quot;&gt;+ &lt;% if (index) { %&gt;+ &lt;a class=&quot;has-link-black-ter&quot; href=&quot;&lt;%- url_for(post.link ? post.link : post.path) %&gt;&quot;&gt;&lt;i class=&quot;fas fa-angle-double-right&quot;&gt;&lt;/i&gt;&lt;%= post.title %&gt;&lt;/a&gt;+ &lt;% } else { %&gt;+ &lt;i class=&quot;fas fa-angle-double-right&quot;&gt;&lt;/i&gt;&lt;%= post.title %&gt;+ &lt;% } %&gt;+ &lt;/h1&gt; &lt;% if (post.layout != 'page') { %&gt; &lt;div class=&quot;level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto&quot;&gt; &lt;div class=&quot;level-left&quot;&gt;- &lt;time class=&quot;level-item has-text-grey&quot; datetime=&quot;&lt;%= date_xml(post.date) %&gt;&quot;&gt;&lt;%= date(post.date) %&gt;&lt;/time&gt;+ &lt;time class=&quot;level-item has-text-grey&quot; datetime=&quot;&lt;%= date_xml(post.date) %&gt;&quot;&gt;&lt;i class=&quot;far fa-calendar-alt&quot;&gt;&amp;nbsp;&lt;/i&gt;&lt;%= date(post.date) %&gt;&lt;/time&gt;+ &lt;% if (post.updated &amp;&amp; post.updated &gt; post.date) { %&gt;+ &lt;time class=&quot;level-item has-text-grey is-hidden-mobile&quot; datetime=&quot;&lt;%= date_xml(post.updated) %&gt;&quot;&gt;&lt;i class=&quot;far fa-calendar-check&quot;&gt;&amp;nbsp;&lt;/i&gt;&lt;%= date(post.updated) %&gt;&lt;/time&gt;+ &lt;% } %&gt; &lt;% if (post.categories &amp;&amp; post.categories.length) { %&gt; 并且删除改页中原来的标题 1234567&lt;h1 class=&quot;title is-size-3 is-size-4-mobile has-text-weight-normal&quot;&gt; &lt;% if (index) { %&gt; &lt;a class=&quot;has-link-black-ter&quot; href=&quot;&lt;%- url_for(post.link ? post.link : post.path) %&gt;&quot;&gt;&lt;%= post.title %&gt;&lt;/a&gt; &lt;% } else { %&gt; &lt;%= post.title %&gt; &lt;% } %&gt;&lt;/h1&gt; 若不需标题前的小图标或者想更改小图标，只需要删除或修改以下 1&lt;i class=&quot;fas fa-angle-right&quot;&gt;&lt;/i&gt; 删除以下内容以便页面显示日期而非发布多久 themes/icarus/source/js/main.js12345- if (typeof(moment) === 'function') {- $('.article-meta time').each(function () {- $(this).text(moment($(this).attr('datetime')).fromNow());- });- } 2.3 文章结尾优化还是在一样的artile.ejs文件中 themes/icarus/layout/common/article.ejs123456789101112131415161718192021222324252627282930313233343536&lt;% if (!index &amp;&amp; post.tags &amp;&amp; post.tags.length) { %&gt;+ &lt;hr style=&quot;height:1px;margin:1rem 0&quot;/&gt;&lt;div class=&quot;level is-size-7 is-uppercase&quot;&gt; &lt;div class=&quot;level-start&quot;&gt; &lt;div class=&quot;level-item&quot;&gt;- &lt;span class=&quot;is-size-6 has-text-grey has-mr-7&quot;&gt;#&lt;/span&gt;+ &lt;i class=&quot;fas fa-tags has-text-grey&quot;&gt;&lt;/i&gt;&amp;nbsp; &lt;%- list_tags(post.tags, { class: 'has-link-grey ', show_count: false,- style: 'link'+ style: 'link',+ separator: ',&amp;nbsp;' }) %&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;% } %&gt;&lt;% if (index &amp;&amp; post.excerpt) { %&gt;- &lt;div class=&quot;level is-mobile&quot;&gt;+ &lt;hr style=&quot;height:1px;margin:1rem 0&quot;/&gt;+ &lt;div class=&quot;level is-mobile is-flex&quot;&gt;+ &lt;div class=&quot;level-start&quot;&gt;+ &lt;% if (post.tags &amp;&amp; post.tags.length) { %&gt;+ &lt;div class=&quot;level-item is-size-7 is-uppercase&quot;&gt;+ &lt;i class=&quot;fas fa-tags has-text-grey&quot;&gt;&lt;/i&gt;&amp;nbsp;+ &lt;%- list_tags(post.tags, {+ class: 'has-link-grey ',+ show_count: false,+ style: 'link',+ separator: ',&amp;nbsp;'+ }) %&gt;+ &lt;/div&gt;+ &lt;% } %&gt;+ &lt;/div&gt; &lt;div class=&quot;level-start&quot;&gt; 2.4 给文章增加版权 themes/icarus/layout/common/article.ejs12345678910111213&lt;div class=&quot;content&quot;&gt; &lt;%- index &amp;&amp; post.excerpt ? post.excerpt : post.content %&gt; &lt;/div&gt; &lt;% if (!index &amp;&amp; post.layout === 'post' &amp;&amp; post.copyright !== false) { %&gt; &lt;ul class=&quot;post-copyright&quot;&gt; &lt;li&gt;&lt;strong&gt;本文标题：&lt;/strong&gt;&lt;a href=&quot;&lt;%= post.permalink %&gt;&quot;&gt;&lt;%= page.title %&gt;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;strong&gt;本文作者：&lt;/strong&gt;&lt;a href=&quot;&lt;%= theme.url %&gt;&quot;&gt;&lt;%= theme.author %&gt;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;strong&gt;本文链接：&lt;/strong&gt;&lt;a href=&quot;&lt;%= post.permalink %&gt;&quot;&gt;&lt;%= post.permalink %&gt;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;strong&gt;发布时间：&lt;/strong&gt;&lt;%= post.date.format(&quot;YYYY-MM-DD&quot;) %&gt;&lt;/li&gt; &lt;li&gt;&lt;strong&gt;版权声明：&lt;/strong&gt;本博客所有文章除特别声明外，均采用 &lt;a href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh&quot; rel=&quot;external nofollow&quot; target=&quot;_blank&quot;&gt;CC BY-NC-SA 4.0&lt;/a&gt; 许可协议。转载请注明出处！ &lt;/li&gt; &lt;/ul&gt; &lt;% } %&gt; 2.5 给文章增加版权3. Problems3.1 添加valine评论系统后不成功在添加评论系统的过程中，除了在主题目录icarus下的文件_config.yml中修改comment的选项，还要注意在文章界面里的抬头不要加上 comment: true 3.2 删除目录栏toc中的自动编号删除第6行代码 themes/icarus/layout/widget/toc.ejs1- &lt;span class=&quot;has-mr-6&quot;&gt;${toc.index}&lt;/span&gt; 3.3 移动端不适配可能原因以下加入的新的代码一定不能有tab！！！用tab代码将无效，必须全部用空格代替！！这个bug折腾了太久脖子都算了！ themes/icarus/source/css/style.styl12345678910111213.is-2-column .container max-width: screen-desktop - 2 * gap width: screen-desktop - 2 * gap+ .is-3-column .container+ max-width: screen-widescreen - gap+ width: screen-widescreen - gap@media screen and (min-width: screen-fullhd)+ .is-3-column .container+ max-width: screen-fullhd - 2 * gap+ width: screen-fullhd - 2 * gap.is-2-column .container max-width: screen-widescreen - 2 * gap width: screen-widescreen - 2 * gap 3.4 界面排版格式莫名错乱不要什么都直接去格式里调！格式调好了有可能是文章出了问题！比如在文章里插入了代码或者是文字颜色，注意是否有漏书名号，或者是有balise没有关起来。这些都有可能造成排版布局错乱。","link":"/2020/02/12/configuration_icarus/"},{"title":"Linéaire discriminant analyses","text":"C’est un article de test. Chapitre 1sub title 1Chapitre 2sub title 1Chapitre 3sub title 1C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.C’est un article de test.","link":"/2020/02/12/lda/"}],"tags":[{"name":"Blog","slug":"Blog","link":"/tags/Blog/"},{"name":"Code","slug":"Code","link":"/tags/Code/"},{"name":"Hexo","slug":"Hexo","link":"/tags/Hexo/"},{"name":"icarus","slug":"icarus","link":"/tags/icarus/"},{"name":"LDA","slug":"LDA","link":"/tags/LDA/"},{"name":"Machine Learning","slug":"Machine-Learning","link":"/tags/Machine-Learning/"},{"name":"SY19","slug":"SY19","link":"/tags/SY19/"}],"categories":[{"name":"Code Blocks","slug":"Code-Blocks","link":"/categories/Code-Blocks/"},{"name":"Blog","slug":"Code-Blocks/Blog","link":"/categories/Code-Blocks/Blog/"},{"name":"Machine Learning","slug":"Machine-Learning","link":"/categories/Machine-Learning/"}]}